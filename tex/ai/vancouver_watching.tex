\subsection{Vancouver Watching~(\keyword{vanwatch})}\label{vanwatch}

\keyword{vanwatch}~\cite{vanwatch} discovers traffic cameras in a target, ingests images from them, and runs detection algo on the images to generate time series analytics.

\marginpar{\keyword{discover}}
Cameras are discovered through public websites and, therefore, they are represented in different formats in different targets. \keyword{vanwatch discover} discovers the cameras in \keyword{<target>} and stores them in \keyword{<target>.geojson} in the object \keyword{<object-name>} and tags the object for discovery by \keyword{ingest}.
%
\begin{verbatim}
vanwatch \
	discover \
	[target=<target>,count=<-1>,dryrun,~tag,~upload] \
	[-|<object-name>]
\end{verbatim}
%
Here, \keyword{target=<target>,count=<-1>,dryrun,~tag,~upload} is an options. If the object pointer \keyword{-} is selected, a timestamped object prefixed \keyword{<target>-discover} is generated. This options input also enables \keyword{dryrun}, a limited count, and the ability to disable tagging and uploading the object. These features are handy for testing and special runs.

\marginpar{\keyword{ingest}}
\keyword{vanwatch ingest} finds the latest set of cameras discovered in \keyword{<target>} through tag search and ingests \keyword{count} images into \keyword{<object-name>} and then runs \keyword{vanwatch detect} unless \keyword{~detect} is present. \keyword{object-name} is then tagged for future discovery. 
%
\begin{verbatim}
vanwatch \
	ingest \
	[target=<target>,count=<-1>,~download,dryrun,~upload] \
	[-|<object-name>] \
	[detect,count=<-1>,~download,dryrun,gif,model=<model-id>,publish,~upload] \
	[--overwrite 1] \
	[--verbose 1]
\end{verbatim}
%
\keyword{vanwatch ingest} generates an object from another that it finds through tag search. Note that this command uses arguments as well as two cascading options. The first controls the ingest of the images and the second is passed to \keyword{detect}.

\marginpar{\keyword{detect}}
\keyword{vanwatch detect} runs object detection algo~\cite{ultralytics} on the images ingested into \keyword{<object-name>} and updates \keyword{<target>.geojson}.
%
\begin{verbatim}
vanwatch \
	detect \
	[count=<-1>,~download,dryrun,gif,model=<model-id>,publish,~upload] \
	[.|<object-name>] \
	[--overwrite 1] \
	[--verbose 1]
\end{verbatim}